{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/thinktanker/Downloads/pgaRabbitCard-master/rabbitfront1/Modules/SignIn.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { useIsFocused } from '@react-navigation/native';\nimport { login, clearLoginError } from \"../store/redux/auth/actions\";\nimport { UnderlineIcon } from \"../components/icons\";\nimport { BackButton, Button, LoadingContainer } from \"../components/Button\";\nimport { w, h } from \"../utils/scale\";\nimport { regex } from \"../utils/helpers\";\nimport { CommonColors, CommonStyles } from \"./style\";\n\nvar SignIn = function SignIn(_ref) {\n  var navigation = _ref.navigation;\n  var isFocused = useIsFocused();\n  var auth = useSelector(function (state) {\n    return state.auth;\n  });\n  var dispatch = useDispatch();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputs = _useState2[0],\n      setInputs = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      requests = _useState6[0],\n      setRequests = _useState6[1];\n\n  useEffect(function () {\n    if (requests > 3) navigation.navigate('Forgot Password');\n  }, [requests]);\n  useEffect(function () {\n    if (isFocused) {\n      setRequests(0);\n      setErrors({});\n    }\n  }, [isFocused]);\n  useEffect(function () {\n    dispatch(clearLoginError());\n  }, []);\n\n  var _onChangeText = function onChangeText(field, value) {\n    dispatch(clearLoginError());\n    setInputs(_objectSpread(_objectSpread({}, inputs), {}, _defineProperty({}, field, value)));\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, _defineProperty({}, field, '')));\n  };\n\n  var onSubmit = function onSubmit() {\n    setRequests(requests + 1);\n    var errors = {};\n\n    if (!inputs.email) {\n      errors.email = 'Email is a required field';\n    }\n\n    if (!regex.email.test(inputs.email)) {\n      errors.email = 'Email is invalid';\n    }\n\n    if (!inputs.password) {\n      errors.password = 'Password is a required field';\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setErrors(errors);\n    } else {\n      dispatch(login(inputs));\n    }\n  };\n\n  return React.createElement(View, {\n    style: CommonStyles.overflowContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, auth.signUpLoading && React.createElement(LoadingContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 30\n    }\n  }), React.createElement(BackButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), React.createElement(SafeAreaView, {\n    style: CommonStyles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    style: CommonStyles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: [CommonStyles.padding, CommonStyles.paddingT100],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: CommonStyles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Sign in\"), React.createElement(View, {\n    style: styles.padding20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, React.createElement(UnderlineIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.section,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.textContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    style: CommonStyles.textInput,\n    onChangeText: function onChangeText(text) {\n      return _onChangeText('email', text.toLowerCase());\n    },\n    value: inputs.email,\n    placeholder: \"User Name\",\n    keyboardType: \"email-address\",\n    placeholderTextColor: CommonColors.Dark,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }), errors.email ? React.createElement(Text, {\n    style: CommonStyles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 33\n    }\n  }, errors.email) : React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 94\n    }\n  })), React.createElement(View, {\n    style: styles.textContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    secureTextEntry: true,\n    style: CommonStyles.textInput,\n    onChangeText: function onChangeText(text) {\n      return _onChangeText('password', text);\n    },\n    value: inputs.password,\n    placeholder: \"Password\",\n    keyboardType: \"default\",\n    placeholderTextColor: CommonColors.Dark,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), errors.password ? React.createElement(Text, {\n    style: CommonStyles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 36\n    }\n  }, errors.password) : React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 100\n    }\n  })), auth.loginError ? React.createElement(Text, {\n    style: CommonStyles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 34\n    }\n  }, auth.loginError) : React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 98\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Forgot Password');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: [CommonStyles.smallText, {\n      color: CommonColors.Green,\n      textDecorationLine: 'underline'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, \"Forgot Password?\")), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Create Account');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: [CommonStyles.smallText, {\n      color: CommonColors.Green,\n      textDecorationLine: 'underline',\n      paddingTop: w(20)\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"Need to Create an Account?\")))))), React.createElement(Button, {\n    title: \"ENTER\",\n    onPress: function onPress() {\n      return onSubmit();\n    },\n    backgroundColor: CommonColors.Green,\n    style: {\n      width: '100%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.auth.signUpLoading,\n    serverError: state.auth.loginError\n  };\n};\n\nexport default connect(mapStateToProps, {\n  login: login,\n  clearLoginError: clearLoginError\n})(SignIn);\nvar styles = StyleSheet.create({\n  padding20: {\n    paddingVertical: w(20)\n  },\n  section: {\n    paddingTop: w(200),\n    paddingHorizontal: w(60)\n  },\n  textContainer: {\n    paddingVertical: w(40)\n  },\n  row: {\n    paddingTop: w(40),\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/thinktanker/Downloads/pgaRabbitCard-master/rabbitfront1/Modules/SignIn.js"],"names":["React","useEffect","useState","connect","useDispatch","useSelector","useIsFocused","login","clearLoginError","UnderlineIcon","BackButton","Button","LoadingContainer","w","h","regex","CommonColors","CommonStyles","SignIn","navigation","isFocused","auth","state","dispatch","inputs","setInputs","errors","setErrors","requests","setRequests","navigate","onChangeText","field","value","onSubmit","email","test","password","Object","keys","length","overflowContainer","signUpLoading","container","padding","paddingT100","title","styles","padding20","section","textContainer","textInput","text","toLowerCase","Dark","errorText","loginError","smallText","color","Green","textDecorationLine","paddingTop","width","mapStateToProps","loading","serverError","StyleSheet","create","paddingVertical","paddingHorizontal","row","flexDirection","alignItems"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, ScrollView, TouchableOpacity, SafeAreaView } from 'react-native';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { useIsFocused } from '@react-navigation/native';\nimport { login, clearLoginError } from '../store/redux/auth/actions';\nimport { UnderlineIcon } from '../components/icons';\nimport { BackButton, Button, LoadingContainer } from '../components/Button';\nimport { w, h } from '../utils/scale';\nimport { regex } from '../utils/helpers'\nimport { CommonColors, CommonStyles } from './style';\n\nconst SignIn = ({ navigation }) => {\n  const isFocused = useIsFocused();\n  const auth = useSelector((state) => state.auth);\n  const dispatch = useDispatch();\n  const [inputs, setInputs] = useState({});\n  const [errors, setErrors] = useState({});\n  const [requests, setRequests] = useState(0)\n\n  useEffect(() => {\n    if (requests > 3) navigation.navigate('Forgot Password')\n  }, [requests])\n\n  useEffect(() => {\n    if (isFocused) {\n      setRequests(0)\n      setErrors({})\n    }\n  }, [isFocused])\n\n  useEffect(() => {\n    dispatch(clearLoginError())\n  }, [])\n\n  const onChangeText = (field, value) => {\n    dispatch(clearLoginError());\n    setInputs({ ...inputs, [field]: value });\n    setErrors({ ...errors, [field]: '' });\n  };\n\n  const onSubmit = () => {\n    setRequests(requests + 1)\n    let errors = {};\n    if (!inputs.email) {\n      errors.email = 'Email is a required field';\n    }\n    if (!regex.email.test(inputs.email)) {\n      errors.email = 'Email is invalid';\n    }\n    if (!inputs.password) {\n      errors.password = 'Password is a required field';\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setErrors(errors);\n    } else {\n      dispatch(login(inputs));\n    }\n  };\n\n  return (\n    <View style={CommonStyles.overflowContainer}>\n      {auth.signUpLoading && <LoadingContainer />}\n      <BackButton />\n      <SafeAreaView style={CommonStyles.container}>\n        <ScrollView style={CommonStyles.container}>\n          <View style={[CommonStyles.padding, CommonStyles.paddingT100]}>\n            <Text style={CommonStyles.title}>Sign in</Text>\n            <View style={styles.padding20}>\n              <UnderlineIcon />\n            </View>\n\n            <View style={styles.section}>\n              <View style={styles.textContainer}>\n                <TextInput\n                  style={CommonStyles.textInput}\n                  onChangeText={(text) => onChangeText('email', text.toLowerCase())}\n                  value={inputs.email}\n                  placeholder=\"User Name\"\n                  keyboardType=\"email-address\"\n                  placeholderTextColor={CommonColors.Dark}\n                />\n                {errors.email ? <Text style={CommonStyles.errorText}>{errors.email}</Text> : <View />}\n              </View>\n              <View style={styles.textContainer}>\n                <TextInput\n                  secureTextEntry\n                  style={CommonStyles.textInput}\n                  onChangeText={(text) => onChangeText('password', text)}\n                  value={inputs.password}\n                  placeholder=\"Password\"\n                  keyboardType=\"default\"\n                  placeholderTextColor={CommonColors.Dark}\n                />\n                {errors.password ? <Text style={CommonStyles.errorText}>{errors.password}</Text> : <View />}\n              </View>\n              {auth.loginError ? <Text style={CommonStyles.errorText}>{auth.loginError}</Text> : <View />}\n              <TouchableOpacity onPress={() => navigation.navigate('Forgot Password')}>\n                <Text style={[CommonStyles.smallText, { color: CommonColors.Green, textDecorationLine: 'underline' }]}>Forgot Password?</Text>\n              </TouchableOpacity>\n              <TouchableOpacity onPress={() => navigation.navigate('Create Account')}>\n                <Text style={[CommonStyles.smallText, { color: CommonColors.Green, textDecorationLine: 'underline', paddingTop: w(20) }]}>Need to Create an Account?</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n      <Button title=\"ENTER\" onPress={() => onSubmit()} backgroundColor={CommonColors.Green} style={{ width: '100%' }} />\n    </View>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  loading: state.auth.signUpLoading,\n  serverError: state.auth.loginError,\n});\n\nexport default connect(mapStateToProps, { login, clearLoginError })(SignIn);\n\nconst styles = StyleSheet.create({\n  padding20: {\n    paddingVertical: w(20)\n  },\n  section: {\n    paddingTop: w(200),\n    paddingHorizontal: w(60),\n  },\n  textContainer: {\n    paddingVertical: w(40)\n  },\n  row: {\n    paddingTop: w(40),\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n});\n\n"]},"metadata":{},"sourceType":"module"}