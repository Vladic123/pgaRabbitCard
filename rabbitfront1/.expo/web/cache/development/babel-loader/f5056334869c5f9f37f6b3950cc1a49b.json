{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/thinktanker/Downloads/pgaRabbitCard-master/rabbitfront1/Modules/CreateAccount.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { FBIcon, GoogleIcon, UnderlineIcon } from \"../components/icons\";\nimport { BackButton, Button, LoadingContainer } from \"../components/Button\";\nimport { signUp, clearSignUpError } from \"../store/redux/auth/actions\";\nimport { regex } from \"../utils/helpers\";\nimport { w, h } from \"../utils/scale\";\nimport { CommonColors, CommonStyles } from \"./style\";\n\nvar SignUp = function SignUp(_ref) {\n  var navigation = _ref.navigation;\n  var dispatch = useDispatch();\n  var auth = useSelector(function (state) {\n    return state.auth;\n  });\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputs = _useState2[0],\n      setInputs = _useState2[1];\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errors = _useState4[0],\n      setErrors = _useState4[1];\n\n  useEffect(function () {\n    dispatch(clearSignUpError());\n  }, []);\n  useEffect(function () {\n    if (auth.signUpSuccess) {\n      Alert.alert('Registration success.');\n      navigation.navigate('Sign In');\n    }\n  }, [auth.signUpSuccess]);\n\n  var _onChangeText = function onChangeText(field, value) {\n    dispatch(clearSignUpError());\n    setInputs(_objectSpread(_objectSpread({}, inputs), {}, _defineProperty({}, field, value)));\n    setErrors(_objectSpread(_objectSpread({}, errors), {}, _defineProperty({}, field, '')));\n  };\n\n  var onSubmit = function onSubmit() {\n    var errors = {};\n\n    if (!inputs.first_name) {\n      errors.first_name = 'First Name is a required field';\n    }\n\n    if (!inputs.last_name) {\n      errors.last_name = 'Last Name is a required field';\n    }\n\n    if (!inputs.email) {\n      errors.email = 'Email is a required field';\n    }\n\n    if (!regex.email.test(inputs.email)) {\n      errors.email = 'Email is invalid';\n    }\n\n    if (!inputs.password) {\n      errors.password = 'Password is a required field';\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setErrors(errors);\n    } else {\n      inputs.roles = [\"admin\"];\n      dispatch(signUp(inputs));\n    }\n  };\n\n  return React.createElement(View, {\n    style: CommonStyles.overflowContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }\n  }, auth.signUpLoading && React.createElement(LoadingContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 30\n    }\n  }), React.createElement(BackButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), React.createElement(SafeAreaView, {\n    style: CommonStyles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    style: CommonStyles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: [CommonStyles.padding, CommonStyles.paddingT100],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: CommonStyles.title,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, \"Create Account\"), React.createElement(View, {\n    style: styles.padding20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, React.createElement(UnderlineIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  })), React.createElement(View, {\n    style: styles.section,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.textContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    style: CommonStyles.textInput,\n    onChangeText: function onChangeText(text) {\n      return _onChangeText('first_name', text);\n    },\n    value: inputs.first_name,\n    placeholder: \"First Name\",\n    keyboardType: \"default\",\n    placeholderTextColor: CommonColors.Dark,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), errors.first_name ? React.createElement(Text, {\n    style: CommonStyles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 38\n    }\n  }, errors.first_name) : React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 104\n    }\n  })), React.createElement(View, {\n    style: styles.textContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    style: CommonStyles.textInput,\n    onChangeText: function onChangeText(text) {\n      return _onChangeText('last_name', text);\n    },\n    value: inputs.last_name,\n    placeholder: \"Last Name\",\n    keyboardType: \"default\",\n    placeholderTextColor: CommonColors.Dark,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }), errors.last_name ? React.createElement(Text, {\n    style: CommonStyles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 37\n    }\n  }, errors.last_name) : React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 102\n    }\n  })), React.createElement(View, {\n    style: styles.textContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    style: CommonStyles.textInput,\n    onChangeText: function onChangeText(text) {\n      return _onChangeText('email', text.toLowerCase());\n    },\n    value: inputs.email,\n    placeholder: \"Email\",\n    keyboardType: \"default\",\n    placeholderTextColor: CommonColors.Dark,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), errors.email ? React.createElement(Text, {\n    style: CommonStyles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 33\n    }\n  }, errors.email) : React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 94\n    }\n  })), React.createElement(View, {\n    style: styles.textContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, React.createElement(TextInput, {\n    secureTextEntry: true,\n    style: CommonStyles.textInput,\n    onChangeText: function onChangeText(text) {\n      return _onChangeText('password', text);\n    },\n    value: inputs.password,\n    placeholder: \"Choose Password\",\n    keyboardType: \"default\",\n    placeholderTextColor: CommonColors.Dark,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), errors.password ? React.createElement(Text, {\n    style: CommonStyles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 36\n    }\n  }, errors.password) : React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 100\n    }\n  })), auth.signUpErrorMsg ? React.createElement(Text, {\n    style: CommonStyles.errorText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 38\n    }\n  }, auth.signUpErrorMsg) : React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 106\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Sign In');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, React.createElement(Text, {\n    style: [CommonStyles.smallText, {\n      color: CommonColors.Green,\n      textDecorationLine: 'underline'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, \"Already Have an Account?\")))))), React.createElement(Button, {\n    title: \"ENTER\",\n    onPress: function onPress() {\n      return onSubmit();\n    },\n    backgroundColor: CommonColors.Green,\n    style: {\n      width: '100%'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loading: state.auth.signUpLoading,\n    serverError: state.auth.loginError\n  };\n};\n\nexport default connect(mapStateToProps, {\n  signUp: signUp,\n  clearSignUpError: clearSignUpError\n})(SignUp);\nvar styles = StyleSheet.create({\n  padding20: {\n    paddingVertical: w(20)\n  },\n  section: {\n    paddingTop: w(100),\n    paddingHorizontal: w(60)\n  },\n  textContainer: {\n    paddingVertical: w(40)\n  },\n  row: {\n    paddingTop: w(40),\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n});","map":{"version":3,"sources":["/Users/thinktanker/Downloads/pgaRabbitCard-master/rabbitfront1/Modules/CreateAccount.js"],"names":["React","useEffect","useState","connect","useDispatch","useSelector","FBIcon","GoogleIcon","UnderlineIcon","BackButton","Button","LoadingContainer","signUp","clearSignUpError","regex","w","h","CommonColors","CommonStyles","SignUp","navigation","dispatch","auth","state","inputs","setInputs","errors","setErrors","signUpSuccess","Alert","alert","navigate","onChangeText","field","value","onSubmit","first_name","last_name","email","test","password","Object","keys","length","roles","overflowContainer","signUpLoading","container","padding","paddingT100","title","styles","padding20","section","textContainer","textInput","text","Dark","errorText","toLowerCase","signUpErrorMsg","smallText","color","Green","textDecorationLine","width","mapStateToProps","loading","serverError","loginError","StyleSheet","create","paddingVertical","paddingTop","paddingHorizontal","row","flexDirection","alignItems"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet, Text, View, TextInput, ScrollView, TouchableOpacity, SafeAreaView, Alert } from 'react-native';\nimport { connect, useDispatch, useSelector } from 'react-redux';\nimport { FBIcon, GoogleIcon, UnderlineIcon } from '../components/icons';\nimport { BackButton, Button, LoadingContainer } from '../components/Button';\nimport { signUp, clearSignUpError } from '../store/redux/auth/actions';\nimport { regex } from '../utils/helpers'\nimport { w, h } from '../utils/scale';\nimport { CommonColors, CommonStyles } from './style';\n\nconst SignUp = ({ navigation }) => {\n  const dispatch = useDispatch();\n  const auth = useSelector((state) => state.auth);\n  const [inputs, setInputs] = useState({});\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    dispatch(clearSignUpError())\n  }, [])\n\n  useEffect(() => {\n    if (auth.signUpSuccess) {\n      Alert.alert('Registration success.')\n      navigation.navigate('Sign In')\n    }\n  }, [auth.signUpSuccess])\n\n  const onChangeText = (field, value) => {\n    dispatch(clearSignUpError());\n    setInputs({ ...inputs, [field]: value });\n    setErrors({ ...errors, [field]: '' });\n  };\n\n  const onSubmit = () => {\n    let errors = {};\n    if (!inputs.first_name) {\n      errors.first_name = 'First Name is a required field';\n    }\n    if (!inputs.last_name) {\n      errors.last_name = 'Last Name is a required field';\n    }\n    if (!inputs.email) {\n      errors.email = 'Email is a required field';\n    }\n    if (!regex.email.test(inputs.email)) {\n      errors.email = 'Email is invalid';\n    }\n    if (!inputs.password) {\n      errors.password = 'Password is a required field';\n    }\n\n    if (Object.keys(errors).length > 0) {\n      setErrors(errors);\n    } else {\n      inputs.roles = [\"admin\"]\n      dispatch(signUp(inputs));\n    }\n  };\n\n  return (\n    <View style={CommonStyles.overflowContainer}>\n      {auth.signUpLoading && <LoadingContainer />}\n      <BackButton />\n      <SafeAreaView style={CommonStyles.container}>\n        <ScrollView style={CommonStyles.container}>\n          <View style={[CommonStyles.padding, CommonStyles.paddingT100]}>\n            <Text style={CommonStyles.title}>Create Account</Text>\n            <View style={styles.padding20}>\n              <UnderlineIcon />\n            </View>\n            <View style={styles.section}>\n              <View style={styles.textContainer}>\n                <TextInput\n                  style={CommonStyles.textInput}\n                  onChangeText={(text) => onChangeText('first_name', text)}\n                  value={inputs.first_name}\n                  placeholder=\"First Name\"\n                  keyboardType=\"default\"\n                  placeholderTextColor={CommonColors.Dark}\n                />\n                {errors.first_name ? <Text style={CommonStyles.errorText}>{errors.first_name}</Text> : <View />}\n              </View>\n              <View style={styles.textContainer}>\n                <TextInput\n                  style={CommonStyles.textInput}\n                  onChangeText={(text) => onChangeText('last_name', text)}\n                  value={inputs.last_name}\n                  placeholder=\"Last Name\"\n                  keyboardType=\"default\"\n                  placeholderTextColor={CommonColors.Dark}\n                />\n                {errors.last_name ? <Text style={CommonStyles.errorText}>{errors.last_name}</Text> : <View />}\n              </View>\n              <View style={styles.textContainer}>\n                <TextInput\n                  style={CommonStyles.textInput}\n                  onChangeText={(text) => onChangeText('email', text.toLowerCase())}\n                  value={inputs.email}\n                  placeholder=\"Email\"\n                  keyboardType=\"default\"\n                  placeholderTextColor={CommonColors.Dark}\n                />\n                {errors.email ? <Text style={CommonStyles.errorText}>{errors.email}</Text> : <View />}\n              </View>\n              <View style={styles.textContainer}>\n                <TextInput\n                  secureTextEntry\n                  style={CommonStyles.textInput}\n                  onChangeText={(text) => onChangeText('password', text)}\n                  value={inputs.password}\n                  placeholder=\"Choose Password\"\n                  keyboardType=\"default\"\n                  placeholderTextColor={CommonColors.Dark}\n                />\n                {errors.password ? <Text style={CommonStyles.errorText}>{errors.password}</Text> : <View />}\n              </View>\n              {auth.signUpErrorMsg ? <Text style={CommonStyles.errorText}>{auth.signUpErrorMsg}</Text> : <View />}\n              <TouchableOpacity onPress={() => navigation.navigate('Sign In')}>\n                <Text style={[CommonStyles.smallText, { color: CommonColors.Green, textDecorationLine: 'underline' }]}>Already Have an Account?</Text>\n              </TouchableOpacity>\n            </View>\n          </View>\n        </ScrollView>\n      </SafeAreaView>\n      <Button title=\"ENTER\" onPress={() => onSubmit()} backgroundColor={CommonColors.Green} style={{ width: '100%' }} />\n    </View>\n  );\n}\n\nconst mapStateToProps = (state) => ({\n  loading: state.auth.signUpLoading,\n  serverError: state.auth.loginError,\n});\n\nexport default connect(mapStateToProps, { signUp, clearSignUpError })(SignUp);\n\nconst styles = StyleSheet.create({\n  padding20: {\n    paddingVertical: w(20)\n  },\n  section: {\n    paddingTop: w(100),\n    paddingHorizontal: w(60),\n  },\n  textContainer: {\n    paddingVertical: w(40)\n  },\n  row: {\n    paddingTop: w(40),\n    flexDirection: 'row',\n    alignItems: 'center'\n  }\n});"]},"metadata":{},"sourceType":"module"}